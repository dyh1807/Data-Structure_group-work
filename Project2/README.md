# 平衡二叉树(AVL树)

## 简述

平衡二叉树作为一个动态查找表，或者为空树，或者为一株左右子树都是AVL树并且左右子树高度差的绝对值不超过1.

用平衡因子进行描述：
$$
BF(Balance Factor) = Depth(left) - Depth(right)
$$

## 基本操作

包含查找、插入、删除

### 查找(search)

如一般的树的查找即可。

返回值为Status类型（自定义类型），返回查找状态(是否成功)

### 插入(insert)

先进行简单的插入。

插入之后，如果发生了失衡，再进行左单旋、右单旋、左右双旋、右左双旋的处理方式。

### 删除(delete)

删除的对象分为三类：叶子节点、只有一个子树的节点、有两个子树的节点。对这三种对象分别分析，记要删除的节点为x：

#### 叶子节点

直接删除

#### 只有一个子树的节点

用子树取代自生

#### 有两个子树的节点

-先找x的直接后继y

-删除y，传递给x

-对于y的删除，采用和删除x同样的规则。这样可以使用递归进行实现。


以上只进行了删除操作，还没有考虑删除引发的不平衡问题。此时的不平衡是由潜在的子树深度缩短引发的，为此需要引入变量shorter用来确定是否发生了缩短，进而进行应该进行的旋转操作。

## 进阶操作

包含合并两棵AVL树、分裂一棵AVL树

### 合并(merge)

最简单的办法是复用基本操作中的插入操作。以第一个AVL树为基准，遍历第二棵AVL树，实现第二棵树的插入。

TODO:更高效的办法以后再说。

### 分裂(split)

同样也可以先用最简单的办法实现。直接构造两棵新的树，遍历原有的树，若元素大于某个值则插入第一棵新树，否则插入第二棵新树。

TODO:更加高效的办法进行实现。

## 文件说明

main.cpp为主函数，func.cpp为基本操作对应的函数，对应的头文件为func.h

